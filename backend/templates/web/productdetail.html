{% extends 'base_web.html' %}
{% load static %}

{% block content %}
<!-- <section class="page-banner-sec-wrap" style="background:url(assets/images/page-banner-bg.jpg);">
    <div class="page-banner-wrap">
      <h3>Product Details</h3>
    </div>
</section>  -->

<section class="single-product-details-sec-wrp">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div class="vn-product-review-con clearfix">
          <div class="vn-product-review-lft-con"> 
            <div class="vn-product-zoom-img-cntlr">
              <div class="vn-product-zoom-img" id="vnProductZoomImgSlider">
                {% for image in images %}
                <div class="vnProductZoomImgSlideItem">
                  <a href="#"><span><img src="/media/{{ image.photo }}"></span></a>
                </div>
                {% endfor %}
              </div>
            </div>
            <div class="ppp-thumb-slider-con">
              <ul class="clearfix ppp-thumb-slider">
                {% for image in images %}
                <li>
                  <div>
                    <span>
                      <img src="/media/{{ image.photo }}">
                    </span>
                  </div>
                </li>
                {% endfor %}
              </ul>
            </div>
          </div>

          <div class="vn-product-review-rgt-con">

           <div class="single-product-description clearfix">
              <div class="product-name">
                <h3 class="product-name-title">{{ product.name }}</h3>
                <span><strong>Category:</strong> {{ product.category.title }}</span>
                {%if product.variety %}
                <span><strong>Variety:</strong> {{ product.variety }}</span>
                {% endif %}
                <span><strong>Brand:</strong> {{ product.brand.name }}</span>
                <span><strong>Pack Size:</strong> {{ product.pack_size.size }}</span>
                {% if product.delivery_time %}
                <span><strong>Delivery Time:</strong> {{ product.delivery_time }}</span>
                {% else %}
                <span><strong>Delivery Time:</strong> এই প্রোডাক্ট টি ১ মাস পরে ডেলিভার করা হবে</span>
                {% endif %}
              </div>
              <div class="price-block">
                <div class="price-box">
                  {% comment %} <p class="old-price"> <span class="price-label">Special Price</span> <span id="product-price-48" class="price"> Tk 309.99 </span> </p> {% endcomment %}
                  {% if user.is_authenticated %}
                  <p class="special-price"> <span class="price-label">Regular Price:</span> <span class="price"> ৳ {{ product.price }} </span> </p>
                  {% else %}
                  <p class="special-price"> <span class="price-label">Regular Price:</span> <span class="price">Please Login to see the price</span> </p>
                  {% endif %}
                  {% if available %} 
                  <p class="availability in-stock pull-right"><span><i class="fa fa-check-circle" aria-hidden="true"></i>In Stock</span></p>
                  {% else %} 
                  <p class="notavailability in-stock pull-right"><span><i class="fa fa-times-circle" aria-hidden="true"></i> Out Of Stock</span></p>
                  {% endif %} 
                </div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <div class="short-description">
                  <h4 class="short-description-title">Quick Overview</h4>
                  <p>{{ product.description }}</p>
                </div>

                {% if available %}
                <div class="pp-add-to-cart-wrp clearfix">
                  <!-- <div class="pp-buy-now-btn">
                    <a class="btn btn-success update-cart" data-product="{{ product.id }}" data-action="add" href="{% url 'appcart' %}">Buy Now</a>
                  </div> -->
                  <!-- <div class="pp-buy-now-btn">
                    <a class="btn btn-success" data-product="{{ product.id }}" data-action="add" href="{% url 'appcart' %}">Buy Now</a>
                  </div> -->
                  {% comment %} <div class="qty-price qty clearfix">
                    <span class="minus"><i class="fa fa-minus" aria-hidden="true"></i></span>
                    <input type="number"  class="input-text qty text" step="1" min="1" max="" name="quantity" value="1" title="Qty" size="4" inputmode="numeric">
                    <span class="plus"><i class="fa fa-plus" aria-hidden="true"></i></span>
                  </div> {% endcomment %}

                  <!-- <div class="qty-price qty clearfix">
                    <span class="minus">
                      <i data-product="{{ product.id }}" data-action="remove" class="fa fa-minus update-cart" aria-hidden="true"></i>
                    </span>
                    <input type="number" class="input-text qty text" step="1" min="0" max="" name="quantity" value="0" title="Qty" size="4" inputmode="numeric">
                    <span class="plus">
                      <i data-product="{{ product.id }}" data-action="add" class="fa fa-plus update-cart" aria-hidden="true"></i>
                    </span>
                  </div> -->
                  <div class="pp-add-to-cart-btn">
                    <button data-product="{{ product.id }}" data-action="add" class="update-cart">Add To Cart <i class="fa fa-long-arrow-right"></i></button>
                  </div>
                </div>
                {% endif %}
              </div>
           </div>

           <div class="tab-info-wrp">
          <ul class="clearfix">
            <li><a href="#tabs">Description</a></li>
            <li><a href="#tabs">Information</a></li>
            {% comment %} <li><a href="#tabs">TAGS</a></li> {% endcomment %}
          </ul>
          <div class="tabs tabs-content">
            <p>{{ product.description }}</p>
            {% if texts %}
            <br>
            <dd>নিয়মাবলী</dd>
            <br>
            {% for text in texts %}
            <dd>{{ text.title }}</dd>
            {% endfor %}
            {% endif %}
          </div>
          <div class="tabs tabs-content">
            <dl class="small m-t-md">
                <!-- <dt>Zones Available in</dt> -->
                <!-- {% for zone in zones %}
                <dd>* {{ zone.zone.name }}</dd>
                {% endfor %} -->
                <!-- {% for pack in packs %}
                <dd>* {{ pack.packsize.size }} - {{ pack.price }}</dd>
                {% endfor %} -->
                {% if available %}
                <dd>Stock Available : <strong>{{ product.inv_stock }}</strong> packs</dd>
                {% else %}
                <dd>Stock Available : <strong>Not Available</strong></dd>
                {% endif %}
                {% if product.status is True %}
                <dd>Product Status: <strong>Active</strong></dd>
                {% else %}
                <dd>Product Status: <strong>Inactive</strong></dd>
                {% endif %}
                <dd>Brand : <strong>{{ product.brand.name }}</strong></dd>
            </dl>
          </div>
        </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Scrollable Product List -->
<section class="hm-product-sec-wrp related-products-section">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h3 class="section-title">Related Products</h3>
                <div class="scrollable-product-list">
                    <ul class="clearfix reset-list scrollable-products">
                        {% for product_item in related_products %}
                        <li class="scrollable-product-item">
                            <div class="hm-product-grid hm-product-grid-border">
                                <a href="{% url 'appproductdetail' product_item.slug %}" rel="product.name">
                                    <div class="hm-product-grid-img inline-bg"
                                        style='background:url("/media/{{ product_item.thumb_image }}");'>
                                    </div>
                                </a>
                                <div class="hm-product-grid-btm">
                                    <div class="hm-product-grid-tp-dsc">
                                        {% if user.is_authenticated %}
                                        <span>৳ {{ product_item.price }} BDT</span>
                                        {% else %}
                                        <span>Login to see Price</span>
                                        {% endif %}
                                        <h3><a href="{% url 'appproductdetail' product_item.slug %}">{{ product_item.name }}</a></h3>
                                        <span>{{ product_item.category }}</span>
                                    </div>
                                </div>
                            </div>
                        </li>
                        {% empty %}
                        <li style="text-align: center; padding: 20px; width: 100%;">
                            <p>No related products found</p>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .related-products-section {
        /* margin: 40px 0; */
        padding: 30px 0;
        background-color: #f9f9f9;
    }

    .section-title {
        /* text-align: center; */
        margin-bottom: 30px;
        font-size: 28px;
        font-weight: 600;
        color: #333;
    }

    .scrollable-product-list {
        width: 100%;
        overflow-x: auto;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch;
        padding: 10px 0;
    }

    /* Hide scrollbar for Chrome, Safari and Opera */
    .scrollable-product-list::-webkit-scrollbar {
        height: 8px;
    }

    .scrollable-product-list::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    .scrollable-product-list::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 10px;
    }

    .scrollable-product-list::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    .scrollable-products {
        display: flex;
        gap: 20px;
        padding: 10px;
        min-width: min-content;
    }

    .scrollable-product-item {
        flex: 0 0 250px;
        min-width: 250px;
    }

    .scrollable-product-item .hm-product-grid {
        height: 100%;
    }

    @media (max-width: 768px) {
        .scrollable-product-item {
            flex: 0 0 200px;
            min-width: 200px;
        }

        .section-title {
            font-size: 22px;
        }
    }

    @media (max-width: 480px) {
        .scrollable-product-item {
            flex: 0 0 150px;
            min-width: 150px;
        }

        .scrollable-products {
            gap: 15px;
        }

        .section-title {
            font-size: 18px;
        }
    }
</style>

{% endblock %}